Ciao Giuseppe,
ca va? Sei rientrato dalle vacanze? L'abbronzatura tiene nonostante il bigio non-sole britannico?

Se tiene ancora, ti faccio sbiancare io parlandoti di ccnsim, cosi' da lavare via ogni possible residuo di spensierato clima vacanziero.

Dopo due giorni di impazzitura, ho capito che ccnsim ha dei problemi quando il fan-out di un nodo e' relativamente grande. Pero' vorrei avere il tuo conforto.

Allora, in ogni nodo la pit e' rappresentata dal seguente tipo di dato, definito in ccnsim.h:
    typedef unsigned long interface_t;

Ce n'e' una per ogni chunk. Questo dato contiene un bit 1 in corrispondenza degli indici delle interfacce dalle quali e' stato richiesto. Il tipo "unsigned long" e' di 32 bit, nella mia architettira. Significa che l'ultima interfaccia gestibile e' la numero 31.

Consideriamo la topologia level3.ned e, in particolare, node[8]. A questo nodo sono attaccati 34 links. Di conseguenza, quando gli arrivano interest da un gate > 31, combina casini, che non sto qui a spiegare, tanto sempre di casini si tratta. Ora ho provato a rendere interface_t un "unsigned long long" oppure "uint64_t" ma le bitwise operations (per settare i bit) sembrano funzionare a xxxxx di cane e il mio impazzimento continua.


Tu dirai: "prova un'altra architettura". Ho provato un'architettura in cui "unsigned long" e' di 64 bit. Il comportamento risulta ugualmente a xxxxx di cane come quando uso unsigned long long nella vecchia architettura.

TODO:
- fai test su menabrea (in cui unsigned long e' di 64 bit) e vedi se le bitwise operations si comportano as expected
- implementa le modifiche suggerite da libingice@tju.edu.cn .


